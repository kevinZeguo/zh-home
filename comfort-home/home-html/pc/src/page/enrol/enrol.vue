<template>
    <div class="enrol">
        <div class="banner">
            <div class="infos">
                <div class="infos-box">
                    <h1>家里暖气不热？</h1>
                    <p>老房没有接入集中供暖接口？</p>
                    <p>供热站供暖老是烧不暖？</p>
                    <p>屋里暖气忽冷忽热？</p>
                    <p>家里有老人孩子，很多时候需<br />要温度要求更高一些？</p>
                </div>
            </div>
        </div>

        <div class="en-container">
            <div class="en-hd">
                <h2 class="tit">把德国采暖系统搬回家</h2>
                <h3 class="tit-sub">众华舒适家，送您一个温暖的冬天</h3>
                <p class="prop">安装快捷，一天即可完工<br />工艺美观，不影响室内装修<br />使用节省，想开就开升温快</p>
                <div class="btns-box"><button type="button">快速获取冬天采暖报价</button></div>
                <p class="prop-btn"><button type="button">立即预约安装</button></p>
            </div>

            <div class="en-tits">
                <span class="name">6步施工</span>
                <span class="line"></span>
                <span class="txt">交给我们</span>
            </div>

            <ul class="en-nums">
                <li>
                    <div class="num">1</div>
                    <div class="txt">定位打孔</div>
                </li>
                <li>
                    <div class="num">2</div>
                    <div class="txt">铺设管路</div>
                </li>
                <li>
                    <div class="num">3</div>
                    <div class="txt">安装暖气片</div>
                </li>
            </ul>
            <ul class="en-intros">
                <li>专业设计师精准定位，并采用无尘打孔，地面铺设保护膜，不会对室内家具和装修产生影响。</li>
                <li>照事先设计的安装位置来确定管路的线路，布管线路一般是在吊顶、踢脚线等隐蔽的地方，明管的铺设尽量不影响到室内的装修或占用太多的空间。</li>
                <li>安装暖气片在安装暖气片的过程中要将暖气片放置平稳，而且要使用水平尺进行测量，看是否安装平稳，然后把阀门连接件和进出水口阀门相连接，检查无误后，用管钳进行加固。</li>
            </ul>

            <ul class="en-nums">
                <li>
                    <div class="num">4</div>
                    <div class="txt">安装壁挂炉</div>
                </li>
                <li>
                    <div class="num">5</div>
                    <div class="txt">压力测试</div>
                </li>
                <li>
                    <div class="num">6</div>
                    <div class="txt">验收使用</div>
                </li>
            </ul>

            <ul class="en-intros">
                <li>壁挂炉的安装需要注意与明线和电气设备隔开，也不能将易燃易爆物品放在其周围，具体来说，壁挂炉与燃气表和燃气灶的距离应该超过750px。</li>
                <li>验收施工人员在对管道进行冲压测试时,没有出现跑、冒、漏、滴等现象。一般测试3-5分钟无渗漏为合格。</li>
                <li>在您检查确认后便可以验收，等待暖冬的到来！</li>
            </ul>

            <div class="videos">
                <iframe frameborder="0" src="https://v.qq.com/txp/iframe/player.html?vid=q1328ksebit" allowFullScreen="true" style="width: 800px;height: 450px;"></iframe>
            </div>

            <div class="en-tits">
                <span class="name">6大优势</span>
                <span class="line"></span>
                <span class="txt">专业放心</span>
            </div>

            <ul class="en-goods">
                <li>
                    <span class="num">1</span>
                    <p class="name">安装快捷</p>
                    <p class="into">一天即可完工</p>
                    <p class="prop">明装的管路主要是简单铺设，无开挖，不回填，因而铺设周期很短，一天就可完成安装、调试，基本不影响家庭日常起居。</p>
                </li>
                <li>
                    <span class="num">2</span>
                    <p class="name">工艺美观</p>
                    <p class="into">不影响室内装修</p>
                    <p class="prop">明装采暖管道走踢脚线、阴角线、吊顶或者窗帘、家具后面等隐蔽位置，横平竖直，无开挖无回填，完全不用担心会破坏原有的装修格局</p>
                </li>
                <li>
                    <span class="num">3</span>
                    <p class="name">使用舒适</p>
                    <p class="into">没有热风和扬尘</p>
                    <p class="prop">明装暖气属于水暖，比较温润，没有空调那样的热风干燥，不会吹起室内扬尘。人体感觉更舒适，使用方便， 能自由调温，舒适性高，制热不干燥。</p>
                </li>
                <li>
                    <span class="num">4</span>
                    <p class="name">服务周到</p>
                    <p class="into">不给生活添麻烦</p>
                    <p class="prop">安装保障，专业团队施工，为客户提供最周到的服务。</p>
                </li>
                <li>
                    <span class="num">5</span>
                    <p class="name">使用节省</p>
                    <p class="into">想开就开升温快</p>
                    <p class="prop">明装暖气片采暖，室内温暖可控制在18-22度，独立控制每个房间的温度，控制采暖时间。</p>
                </li>
                <li>
                    <span class="num">6</span>
                    <p class="name">德国精湛工艺</p>
                    <p class="into">采暖热水兼顾</p>
                    <p class="prop">原采用燃气热水器用户，一举双得，取暖同时解决全屋热水，专业节能。</p>
                </li>
            </ul>

            <div class="en-forms">
                <h2 class="tit">立即预约，免费设计</h2>
                <h3 class="tit-sub">尊享服务：免费上门设计＋专业团队施工</h3>
                <div class="en-forms-con">
                    <p class="name">冬日暖暖的爱和家人分享</p>

                    <el-form class="forms-list" :model="ruleForm" :rules="rulesForm" ref="ruleForm">
                        <ul>
                            <li>
                                <p class="f-name">姓名</p>
                                <el-form-item prop="userName">
                                    <el-input v-model="ruleForm.userName"></el-input>
                                </el-form-item>
                            </li>
                            <li>
                                <p class="f-name">手机号码</p>
                                <el-form-item prop="phoneNum">
                                    <el-input v-model="ruleForm.phoneNum"></el-input>
                                </el-form-item>
                            </li>
                        </ul>
                    </el-form>
                    <div class="btns-box">
                        <button type="button" @click="submitForm('ruleForm')">立即预约</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
import { isvalidPhone } from '../../config/utils';
import { enrolReg } from '../../service/getData';

export default {
    data () {
        var validPhone=(rule, value,callback)=>{
            if (!value){
                callback(new Error('请输入手机号'));
            }else  if (!isvalidPhone(value)){
                callback(new Error('请输入正确的11位手机号码'));
            }else {
                callback();
            }
        };

        return {
            dialogVisible: false,
            ruleForm: {
                phoneNum: '', //手机号
                userName: '' //用户姓名
            },
            rulesForm: {
                userName: [
                    { required: true, message: '用户姓名不能为空'}
                ],
                phoneNum: [
                    { required: true, trigger: 'blur', validator: validPhone }
                ]
            }
        }
    },
    mounted () {
    },
    methods: {
        submitForm (formName) {
            this.$refs[formName].validate((valid) => {

                if (valid) {
                    let params = 'userName=' + encodeURIComponent(this.ruleForm.userName) + '&phoneNum=' + this.ruleForm.phoneNum;

                    console.log(params);
                    this.enrolReg(params);
                }
            });
        },
        async enrolReg (params) {
            const res = await enrolReg(params);

            if (res.data.success == true) {
                this.$message({
                    message: '恭喜您，预约成功！',
                    type: 'success'
                });
            } else {
                this.$message({
                    message: res.data.message,
                    type: 'error'
                });
            }
        }
    }
}
</script>

<style lang="scss" scoped>
.enrol {
    .banner {
        width: 100%;
        min-width: 1200px;
        height:600px;
        background: url(../../assets/img/pic-enrol-banner.jpg) no-repeat center center;

        .infos {
            width: 1200px;
            margin: 0 auto;
            padding: 203px 0 0 91px;

            .infos-box {
                padding: 40px 40px 0;
                width: 360px;
                height:360px;
                background: rgba(255, 255, 255, 0.8);
                color: #D69C16;

                h1 {
                    margin-bottom: 8px;
                    border-top: 6px solid #D69C16;
                    border-bottom: 6px solid #D69C16;
                    line-height: 68px;
                    text-align: center;
                    color: #D69C16;
                    font-size:40px;
                }

                p {
                    padding: 10px 0;
                    line-height:28px;
                    text-align: center;
                    font-size:20px;
                }
            }
        }
    }

    .en-container {
        margin: 0 auto;
        width: 1002px;
        background:rgba(255,255,255,1);
        box-shadow:0px 2px 4px 0px rgba(0,0,0,0.5);
        border:1px solid rgba(151,151,151,1);

        .en-hd {
            margin: 0 auto;
            width: 800px;
            height: 400px;
            border-radius: 0 0 400px 400px;
            background: #01AFEB;
            color: #fff;
            text-align: center;

            .tit {
                padding-top:70px;
                font-size:30px;
                font-weight: 100;
                line-height:42px;
            }

            .tit-sub {
                padding-top:10px;
                font-size:20px;
                font-weight:300;
                line-height:28px;
            }

            .prop {
                padding: 30px 0 40px;
                line-height: 20px;
                font-size: 14px;
            }

            .btns-box {
                padding-bottom: 20px;

                button {
                    width:240px;
                    height:50px;
                    background: #01AFEB;
                    border:1px solid rgba(255,255,255,1);
                    border-radius: 20px;
                    color: #fff;
                    font-size: 20px;
                    cursor: pointer;
                }
            }

            .prop-btn {
                button {
                    width:120px;
                    height:28px;
                    background: #01AFEB;
                    border-radius: 20px;
                    color: #fff;
                    font-size: 20px;
                    border: 0;
                    cursor: pointer;
                }
            }
        }

        .en-tits {
            margin: 60px auto 0;
            width: 260px;
            height: 50px;
            background: #8FC323;
            color: #fff;
            line-height: 50px;
            text-align: center;


            .name {
                font-size: 26px;
                vertical-align: middle;
                display: inline-block;
            }

            .line {
                margin: 0 10px 0 20px;
                width: 5px;
                height: 20px;
                background: #fff;
                display: inline-block;
                vertical-align: middle;
            }

            .txt {
                font-size: 18px;
                vertical-align: middle;
                display: inline-block;
            }
        }
            
        .en-nums {
            padding: 40px 0 30px 40px;
            width: 1000px;

            &:after {
                height: 0;
                content: " ";
                clear: both;
                display: block;
            }

            li {
                margin-right: 40px;
                width:  280px;
                float: left;
                height: 50px;
                position: relative;

                .num {
                    width: 30px;
                    height: 30px;
                    background: #01AFEB;
                    color: #fff;
                    text-align: center;
                    line-height: 30px;
                    border-radius: 30px;
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    margin: -15px 0 0 -95px;
                }

                .txt {
                    margin: 0 auto;
                    width: 160px;
                    height: 50px;
                    line-height: 50px;
                    border: 2px solid #01AFEB;
                    text-align: center;
                    color: #5F5C5C;
                    font-size: 16px;
                    text-align: center;
                    font-weight: 300;
                }
            }
        }

        .en-intros {
            padding: 0 0 0 40px;
            width: 1000px;

            &:after {
                height: 0;
                content: " ";
                clear: both;
                display: block;
            }

            li {
                margin-right: 40px;
                width:  280px;
                float: left;
                line-height: 20px;
                position: relative;
                color: #5F5C5C;
            }
        }

        .videos {
            padding: 20px 100px 0;
        }

        .en-goods {
            padding: 50px 15px 60px;
            -webkit-display: flex;
            -moz-display: flex;
            -ms-display: flex;
            display: flex;
            -webkit-justify-content: space-between;
            -moz-justify-content: space-between;
            -ms-justify-content: space-between;
            justify-content: space-between;

            li {
                width: 160px;
                background: #009CD2;
                position: relative;
                color: #fff;
                border-radius: 4px;
                
                .num {
                    color: #83BD84;
                    line-height: 70px;
                    position: absolute;
                    font-size: 50px;
                    top: 0;
                    left: 4px;
                    z-index: 1;
                }

                .name {
                    padding: 16px 0 0;
                    line-height: 28px;
                    text-align: center;
                    position: relative;
                    font-size: 20px;
                    z-index: 2;
                }

                .into {
                    padding: 8px 0 0;
                    line-height: 20px;
                    text-align: center;
                    position: relative;
                    font-size: 14px;
                    z-index: 2;
                }

                .prop {
                    padding: 47px 10px 20px;
                    line-height: 17px;
                    font-size: 12px;
                    text-align: justify;
                }
            }
        }

        .en-forms {
            margin-bottom: 20px;
            padding-top: 50px;
            width: 1000px;
            height: 530px;
            background: url(../../assets/img/pic-enrol-bg.jpg) no-repeat center center;
            color:#fff;

            .tit {
                font-size:30px;
                font-weight:500;
                line-height:42px;
                text-align: center;
            }

            .tit-sub {
                padding: 10px 0 33px;
                font-size:20px;
                font-weight:100;
                line-height:28px;
                text-align: center;
            }

            .en-forms-con {
                margin: 0 auto;
                padding: 35px 55px 0;
                width: 576px;
                height: 326px;
                background: rgba(255, 255, 255, 0.8);

                .name {
                    padding-bottom: 47px;
                    font-size:26px;
                    font-weight:300;
                    color:#464545;
                    line-height:37px;
                    text-align: center;
                }

                .forms-list {

                    ul {
                        -webkit-display: flex;
                        -moz-display: flex;
                        -ms-display: flex;
                        display: flex;
                        -webkit-justify-content: space-between;
                        -moz-justify-content: space-between;
                        -ms-justify-content: space-between;
                        justify-content: space-between;

                        li {
                            width: 224px;

                            .f-name {
                                font-size:16px;
                                color:#424242;
                                line-height:26px;
                            }

                            .f-text {
                                padding: 10px;
                                line-height: 30px;
                                width:224px;
                                height:50px;
                                background:rgba(252,252,252,1);
                                border-radius:4px;
                                border:1px solid rgba(194,194,194,1);
                            }
                        }
                    }
                }

                .btns-box {
                    padding-top: 22px;
                    text-align: center;

                    button {
                        width:255px;
                        height:50px;
                        background:rgba(233,197,14,1);
                        box-shadow:0px 2px 4px 0px rgba(0,0,0,0.5);
                        border-radius:20px;
                        border: 0;
                        font-size: 20px;
                        color: #fff;
                        cursor: pointer;
                    }
                }
            }
        }
    }

    .quo-dialog {
        position: fixed;
        top: 50%;
        left: 50%;
        -webkit-transform: translate3d(-50%, -50%, 0);
        transform: translate3d(-50%, -50%, 0);
        background-color: #fff;
        width: 400px;
        border-radius: 3px;
        font-size: 16px;
        -webkit-user-select: none;
        overflow: hidden;
        -webkit-backface-visibility: hidden;
        backface-visibility: hidden;
        -webkit-transition: .2s;
        transition: .2s;
        z-index: 2001;

        .quo-dialog-hd {
            padding: 17px 0 12px;
            line-height: 38px;
            text-align: center;
            position: relative;

            .tit {
                line-height: 38px;
                color: #4f4f4f;
                font-size: 20px;
            }

            .icon-close {
                width: 48px;
                height: 48px;
                background: url(../../assets/img/icon-close-f0f.png) no-repeat center center;
                background-size: 24px 24px;
                position: absolute;
                top: 0;
                right: 0;
                text-indent: -999em;
                overflow: hidden;
                cursor: pointer;
            }
        }


        .quo-dialog-bd {
            .prop {
                padding-bottom: 42px;
                line-height: 15px;
                font-size: 14px;
                color: #424242;
                text-align: center;
            }

            .quo-dialog-forms {
                padding: 0 45px 39px;

                .btn-submit {
                    width:100%;
                    height:50px;
                    background:rgba(233,197,14,1);
                    box-shadow:0px 2px 4px 0px rgba(0,0,0,0.5);
                    border-radius:20px;
                    border: 0;
                    color: #fff;
                    font-size:20px;
                    cursor: pointer;
                }
            }
        }
    }

    .quo-modal {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.5;
        background: #000;
        z-index: 2000;
    }
}
</style>
